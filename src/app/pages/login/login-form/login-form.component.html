<form (ngSubmit)="login()" [formGroup]="loginForm">
  <h4>Sign to Widebot AI</h4>

  <div *ngIf="failedLogin" class="form-fail-notification">
    Login Failed
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <input formControlName="email" type="email" name="email" id="email" aria-describedby="emailHelp"
      placeholder="Enter email" [ngClass]="{'is-invalid':loginForm.controls['email'].invalid &&
      (loginForm.controls['email'].dirty ||
      loginForm.controls['email'].touched)}" />
    <div *ngIf="
              loginForm.controls['email'].invalid &&
              (loginForm.controls['email'].dirty ||
                loginForm.controls['email'].touched)
            " class="alert alert-danger">
      <div *ngIf="loginForm.controls['email'].errors?.['required']">
        email is required.
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input formControlName="password" type="password" name="password" id="password" aria-describedby="passwordHelp"
      placeholder="Enter password" [ngClass]="{'is-invalid': loginForm.controls['password'].invalid &&
      (loginForm.controls['password'].dirty ||
      loginForm.controls['password'].touched)}" />
    <div *ngIf="
              loginForm.controls['password'].invalid &&
              (loginForm.controls['password'].dirty ||
                loginForm.controls['password'].touched)
            " class="alert-danger">
      <div *ngIf="loginForm.controls['password'].errors?.['required']">
        email is required.
      </div>
      <div *ngIf="loginForm.controls['password'].errors?.['pattern']">
        invalid password pattern.
      </div>
    </div>
  </div>

  <button type="submit" class="submit-button">
    <div *ngIf="!loading; else loadingIndicator">
      Login
    </div>

    <ng-template #loadingIndicator>
      please wait loading...
      <span class="loading-spinner"></span>
    </ng-template>
  </button>
</form>
